<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>교통 데이터 API 연동 프로토타입</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>🚗 교통 데이터 API 프로토타입</h1>
        
        <!-- 섹션 1: 최근 교통 데이터 -->
        <div class="api-section">
            <h2>1️⃣ 최근 교통 데이터 조회</h2>
            <p style="margin-bottom: 10px; color: #666;">GET /api/traffic/recent</p>
            <div class="button-group">
                <button onclick="getRecentTraffic()">조회하기</button>
                <input type="number" id="minutes" placeholder="분 (기본: 10)" value="10" min="1" max="60">
                <input type="number" id="limit" placeholder="개수 (기본: 100)" value="100" min="1" max="500">
            </div>
            <div id="recent-status" class="status loading" style="display:none;"></div>
            <div id="recent-response" class="response-box"></div>
        </div>
        
        <!-- 섹션 2: 특정 링크 데이터 -->
        <div class="api-section">
            <h2>2️⃣ 특정 링크 ID 데이터 조회</h2>
            <p style="margin-bottom: 10px; color: #666;">GET /api/traffic/link/{link_id}</p>
            <div class="button-group">
                <input type="text" id="linkId" placeholder="링크 ID (예: 101000100)" value="101000100">
                <button onclick="getTrafficByLink()">조회하기</button>
            </div>
            <div id="link-status" class="status loading" style="display:none;"></div>
            <div id="link-response" class="response-box"></div>
        </div>
        
        <!-- 섹션 3: 통계 데이터 -->
        <div class="api-section">
            <h2>3️⃣ 링크별 평균 속도 통계</h2>
            <p style="margin-bottom: 10px; color: #666;">GET /api/traffic/stats</p>
            <button onclick="getTrafficStats()">조회하기</button>
            <div id="stats-status" class="status loading" style="display:none;"></div>
            <div id="stats-response" class="response-box"></div>
            <div id="stats-table"></div>
        </div>
        
        <!-- 섹션 4: 헬스 체크 -->
        <div class="api-section">
            <h2>4️⃣ 서버 상태 확인</h2>
            <p style="margin-bottom: 10px; color: #666;">GET /health</p>
            <button onclick="getHealth()">확인하기</button>
            <div id="health-status" class="status loading" style="display:none;"></div>
            <div id="health-response" class="response-box"></div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>